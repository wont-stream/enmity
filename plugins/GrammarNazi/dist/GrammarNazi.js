function s(n){window.enmity.plugins.registerPlugin(n)}function c(n){return window.enmity.patcher.create(n)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const d=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native,window.enmity.modules.common.React,window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function w(n,e,m){return window.enmity.settings.get(n,e,m)}var a="GrammarNazi",l="0.0.1",r="Automatic punctuation, capitalization, and word replacement.",u=[{name:"wont.stream",id:"1125315673829154837"}],y={name:a,version:l,description:r,authors:u};w("GrammarNazi","customText","");const i=c("GrammarNazi"),g={...y,async onStart(){const n=await(await fetch("https://wont-stream.github.io/dictionary/index.min.json")).json(),e=new RegExp(`(^|(?<=[^A-Z0-9]+))(${Object.keys(n).map(m=>m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})((?=[^A-Z0-9]+)|$)`,"gi");i.before(d,"sendMessage",(m,o,p)=>{o[1].content=o[1].content.trim(),!o[1].content.includes("```")&&/\w/.test(o[1].content.charAt(0))&&(e!==null&&(o[1].content=o[1].content.replace(e,t=>n[t.toLowerCase()]||t)),/[A-Z0-9]/i.test(o[1].content.charAt(o[1].content.length-1))&&(o[1].content.startsWith("http",o[1].content.lastIndexOf(" ")+1)||(o[1].content+=".")),o[1].content=o[1].content.replace(/([.!?])\s*(\w)/g,t=>t.toUpperCase()),o[1].content.startsWith("http")||(o[1].content=o[1].content.charAt(0).toUpperCase()+o[1].content.slice(1)))})},onStop(){i.unpatchAll()}};s(g);
